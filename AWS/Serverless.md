## 서버리스(serverless)

#### 관련 개념
- FAAS
- Event Driven Architecture

## 개념

### 핵심

- 서버리스란 개발자가 서버 인프라 요소를 관리하는 것이아닌, 클라우드 서비스를 제공하는 회사에서 인프라를 관리하고 개발자는 애플리케이션을 빌드하고 실행할 수 있도록 하는 개발 모델.
- 인프라 ← 클라우드 서비스를 제공하는 회사
- 애플리케이션 ← 개발자
- 클라우드 제공업체의 할일 : 서버 인프라에 대한 프로비저닝, 유지관리, 스케일링 등 일상적인 작업을 처리

### 서버리스 아키텍처 개요

- 클라우드 제공업체가 클라우드 인프라 & 애플리케이션의 스케일링을 모두 관리한다.
    - 여러 요청이 들어오는 경우 수요를 충족하는데 필요한 만큼의 기능 복사본을 생성한다. → 스케일 업
    - 요청이 없어지면 다시 다운 한다. → 스케일 다운
- 서버리스 아키텍처에서는 애플리케이션이 필요한 경우에만 구동되고 코드가 종료되면 비용이 청구되지 않음
    - 여기서 기능이 신속하게 재실행 되어야 되는 이슈가 있는데 수 ms 이내에 될 수 있도록 한다.

### 서버리스 컴퓨팅에서 클라우드 제공업체의 역할은 무엇인가?

- 서비스로서의 백엔드 ( BaaS : Backedn as a Service )
- 서비스로서의 기능 ( FaaS : Function as a Service )
    - AWS의 람다가 있다.
    - 개발자는 서버가 구동되는 정의만 작성(보통 json 파일로 )하면 실질적인 구동에 대한 부분은 클라우드 서비스를 제공하는 업체에서 하도록 한다.
    

### FaaS와 서버리스

- FaaS는 서버리스 컴퓨팅을 구현하는 방식
- FaaS인프라는 주로 이벤트 기반 실행 모델을 통해서 동작한다.
    - 이벤트란 시스템 HW or SW 상태의 변화 또는 사건의 발생을 의미
    - 이벤트 기반의 아키텍처는 이벤트 생성자와 이벤트 소비자로 구서오디어 있음
    - 생성자는 감지만 하며 메시지 형태로 이벤트를 보낸다. → 어디로 메시지 큐로
    - 메시지 큐는 일종의 버퍼 역할이다.
    - 소비자는 이벤트를 계속 탐색하고 있거나, 아니면 이벤트가 도착했다는 알림을 받아야 한다. 그리고 그 데이터를 처리한다.
    - 이벤트 기반 아키텍처는 pubsub 모델 또는 이벤트 스트림 모델을 기반으로 할 수 있음.
- 백그라운드에서 지속적으로 실행 할 필요가 없다.


### 장점

- 개발자는 인프라에 대한 고려사항이 줄어든다.

### 단점

- 콜드 스타트 비용 → 비활성 함수를 완전히 종료하는 방법이 적용되면 → 이 함수의 시작 비용이 응답 시간에 영향을 미친다. → 해결방법 : 서비스 간의 엔드 투 엔드 관계를 파악해서 종속성 혹은 연관성을 띄고 있는 서비스들은 서로 활성 상태가 유지되도록 HB 체크가 필수 적이다.
- 쓰로틀링 → 클라우드 서비스 제공사가 제공하는 최대 임계값이 있다. 그래서 무한정히 스케일업이 되는 것이 아니다. 그러므로 실행 제한에 걸린 이후의 요청은 모두 대기열에 들어가게 되는데, 이 것이 응답 시간을 길게 만든다.
    - 쓰로틀링은 무제한 비용청구를 막아주는 순기능이 있다.
    - 하지만 이게 발목을 잡을 경우 최대 임계값을 높이는 방법이다. ← 이것을 할 때는 어디서 현상이 발생하는지 파악이 필요하다.
- 인프라 레벨과 무관한 병목 현상이 있다.
    - 어플리케이션 레벨에서 발생하는 병목현상이 있어 이것이 계속 서비스를 동작시킨다면 문제가 될 수 있다.
    - 이럴 경우 서비스를 튜닝해야 됨 → 이렇기 때문에 비동기 통신에 대한 니즈가 생긴다.


</br>
</br>
</br>
</br>

---
## AWS 람다와 Serverless FrameWork
